<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản lý kê đơn - ISSVSG</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: { 50: '#ECFEFF', 100: '#CFFAFE', 200: '#A5F3FC', 300: '#67E8F9', 400: '#22D3EE', 500: '#0891B2', 600: '#0E7490', 700: '#155E75', 800: '#164E63', 900: '#083344' },
                        secondary: { 50: '#F0FDF4', 100: '#DCFCE7', 500: '#22C55E', 600: '#059669' },
                        surface: { 50: '#F8FAFC', 100: '#F1F5F9', 200: '#E2E8F0', 300: '#CBD5E1', 400: '#94A3B8', 500: '#64748B', 600: '#475569', 700: '#334155', 800: '#1E293B', 900: '#0F172A' }
                    },
                    fontFamily: { heading: ['Poppins', 'sans-serif'], body: ['Open Sans', 'sans-serif'] }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Open Sans', sans-serif; }
        h1, h2, h3, h4, h5, h6 { font-family: 'Poppins', sans-serif; }
        .sidebar-link.active { background-color: rgba(8, 145, 178, 0.1); color: #0891B2; border-right: 3px solid #0891B2; }
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body class="bg-surface-50">
    <!-- Sidebar -->
    <nav th:replace="~{fragments/layout :: sidebar}"></nav>
    
    <!-- Top Navbar -->
    <header th:replace="~{fragments/layout :: navbar}"></header>
    
    <!-- Main Content -->
    <main class="ml-64 pt-24 pb-8 px-4 md:px-6 lg:px-8 min-h-screen">
        <!-- Page Header -->
        <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6 mb-8">
            <div>
                <h1 class="text-3xl font-bold text-surface-900 font-heading">Quản lý kê đơn thuốc</h1>
                <p class="text-surface-600 mt-2">Tạo và quản lý đơn thuốc với sự hỗ trợ của AI</p>
                <div class="flex items-center gap-4 mt-3">
                    <div class="flex items-center gap-2">
                        <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                        <span class="text-sm text-surface-600">Trợ lý AI đang hoạt động</span>
                    </div>
                    <div class="flex items-center gap-2 text-sm text-surface-500">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        Độ chính xác: 94.2%
                    </div>
                </div>
            </div>
            <button onclick="openCreatePrescriptionModal()" class="inline-flex items-center gap-2 px-5 py-3 bg-primary-500 text-white font-medium rounded-xl hover:bg-primary-600 transition-colors duration-200 cursor-pointer shadow-lg shadow-primary-500/25">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                </svg>
                Tạo đơn thuốc mới
            </button>
        </div>
        
        <!-- Stats Cards -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <!-- Total Prescriptions This Month -->
            <div class="bg-white rounded-2xl border border-surface-200 p-6 hover:shadow-lg transition-all duration-200">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-surface-500">Đơn tháng này</p>
                        <p class="text-3xl font-bold text-surface-900 mt-2">156</p>
                        <p class="text-sm text-surface-600 mt-2">+12 so với tháng trước</p>
                    </div>
                    <div class="w-14 h-14 bg-primary-100 rounded-2xl flex items-center justify-center">
                        <svg class="w-7 h-7 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                        </svg>
                    </div>
                </div>
            </div>
            
            <!-- Dispensed -->
            <div class="bg-white rounded-2xl border border-surface-200 p-6 hover:shadow-lg transition-all duration-200">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-surface-500">Đã cấp phát</p>
                        <p class="text-3xl font-bold text-surface-900 mt-2">142</p>
                        <p class="text-sm text-secondary-600 mt-2 flex items-center gap-1">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            91% tỷ lệ cấp phát
                        </p>
                    </div>
                    <div class="w-14 h-14 bg-secondary-100 rounded-2xl flex items-center justify-center">
                        <svg class="w-7 h-7 text-secondary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </div>
                </div>
            </div>
            
            <!-- Pending -->
            <div class="bg-white rounded-2xl border border-surface-200 p-6 hover:shadow-lg transition-all duration-200">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-surface-500">Chờ xử lý</p>
                        <p class="text-3xl font-bold text-surface-900 mt-2">14</p>
                        <p class="text-sm text-amber-600 mt-2">Cần phê duyệt</p>
                    </div>
                    <div class="w-14 h-14 bg-amber-100 rounded-2xl flex items-center justify-center">
                        <svg class="w-7 h-7 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </div>
                </div>
            </div>
            
            <!-- Drug Interaction Warnings -->
            <div class="bg-white rounded-2xl border border-red-200 p-6 hover:shadow-lg transition-all duration-200">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-surface-500">Cảnh báo tương tác</p>
                        <p class="text-3xl font-bold text-red-600 mt-2">3</p>
                        <button class="text-sm text-red-600 mt-2 hover:text-red-700 font-medium underline cursor-pointer">Xem ngay →</button>
                    </div>
                    <div class="w-14 h-14 bg-red-100 rounded-2xl flex items-center justify-center">
                        <svg class="w-7 h-7 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- AI Insights Panel -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
            <!-- AI Recommendations -->
            <div class="lg:col-span-2 bg-gradient-to-br from-blue-50 to-primary-50 rounded-2xl border-2 border-primary-200 p-6">
                <div class="flex items-center gap-3 mb-6">
                    <div class="w-10 h-10 bg-primary-500 rounded-xl flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                        </svg>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-surface-900 font-heading">Đề xuất từ AI</h3>
                        <p class="text-xs text-surface-600">Dựa trên cơ sở tri thức y tế và lịch sử bệnh án</p>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- AI Suggestion 1 -->
                    <div class="bg-white rounded-xl p-4 border border-primary-100">
                        <div class="flex items-start gap-3 mb-3">
                            <div class="flex-shrink-0 w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <h4 class="text-sm font-semibold text-surface-900 mb-1">Thuốc thay thế</h4>
                                <p class="text-xs text-surface-600">AI đề xuất 3 loại thuốc thay thế cho Losartan với giá thành thấp hơn 20%</p>
                            </div>
                        </div>
                        <button class="w-full px-3 py-2 bg-primary-50 text-primary-700 text-sm font-medium rounded-lg hover:bg-primary-100 transition-colors duration-200 cursor-pointer">
                            Xem đề xuất
                        </button>
                    </div>
                    
                    <!-- AI Suggestion 2 -->
                    <div class="bg-white rounded-xl p-4 border border-amber-100">
                        <div class="flex items-start gap-3 mb-3">
                            <div class="flex-shrink-0 w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <h4 class="text-sm font-semibold text-surface-900 mb-1">Kiểm tra liều lượng</h4>
                                <p class="text-xs text-surface-600">2 đơn có liều lượng cao hơn khuyến cáo của WHO cần xem xét</p>
                            </div>
                        </div>
                        <button class="w-full px-3 py-2 bg-amber-50 text-amber-700 text-sm font-medium rounded-lg hover:bg-amber-100 transition-colors duration-200 cursor-pointer">
                            Kiểm tra ngay
                        </button>
                    </div>
                    
                    <!-- AI Suggestion 3 -->
                    <div class="bg-white rounded-xl p-4 border border-purple-100">
                        <div class="flex items-start gap-3 mb-3">
                            <div class="flex-shrink-0 w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <h4 class="text-sm font-semibold text-surface-900 mb-1">Phân tích xu hướng</h4>
                                <p class="text-xs text-surface-600">Metformin là thuốc kê đơn nhiều nhất (42 lần) trong tháng qua</p>
                            </div>
                        </div>
                        <button class="w-full px-3 py-2 bg-purple-50 text-purple-700 text-sm font-medium rounded-lg hover:bg-purple-100 transition-colors duration-200 cursor-pointer">
                            Xem báo cáo
                        </button>
                    </div>
                    
                    <!-- AI Suggestion 4 -->
                    <div class="bg-white rounded-xl p-4 border border-blue-100">
                        <div class="flex items-start gap-3 mb-3">
                            <div class="flex-shrink-0 w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <h4 class="text-sm font-semibold text-surface-900 mb-1">Cập nhật Guidelines</h4>
                                <p class="text-xs text-surface-600">Có 2 hướng dẫn điều trị mới cần xem xét áp dụng</p>
                            </div>
                        </div>
                        <button class="w-full px-3 py-2 bg-blue-50 text-blue-700 text-sm font-medium rounded-lg hover:bg-blue-100 transition-colors duration-200 cursor-pointer">
                            Xem cập nhật
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="space-y-4">
                <!-- Search Patient -->
                <div class="bg-white rounded-2xl border border-surface-200 p-5">
                    <label class="block text-sm font-semibold text-surface-900 mb-3">Tìm kiếm bệnh nhân</label>
                    <div class="relative mb-4">
                        <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                        <input type="text" placeholder="Nhập ID hoặc tên bệnh nhân..." 
                            class="w-full pl-10 pr-4 py-2.5 bg-surface-50 border border-surface-200 rounded-xl text-sm text-surface-900 placeholder-surface-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200">
                    </div>
                    <button class="w-full px-4 py-2.5 bg-primary-500 text-white font-medium rounded-xl hover:bg-primary-600 transition-colors duration-200 cursor-pointer">
                        Tạo đơn cho bệnh nhân
                    </button>
                </div>
                
                <!-- Safety Notice -->
                <div class="bg-amber-50 border-2 border-amber-200 rounded-2xl p-5">
                    <div class="flex items-start gap-3 mb-3">
                        <svg class="w-6 h-6 text-amber-600 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                        </svg>
                        <div>
                            <h4 class="font-semibold text-amber-900 mb-1">Lưu ý an toàn</h4>
                            <p class="text-xs text-amber-800 leading-relaxed">Tất cả đề xuất từ AI chỉ mang tính tham khảo. Bác sĩ cần xem xét và xác nhận trước khi áp dụng để đảm bảo tính chính xác và an toàn y tế.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Training Status -->
                <div class="bg-white rounded-2xl border border-surface-200 p-5">
                    <h4 class="text-sm font-semibold text-surface-900 mb-4">Trạng thái huấn luyện AI</h4>
                    <div class="space-y-3">
                        <div>
                            <div class="flex items-center justify-between mb-1.5">
                                <span class="text-xs text-surface-600">Độ chính xác</span>
                                <span class="text-xs font-bold text-primary-600">94.2%</span>
                            </div>
                            <div class="w-full bg-surface-100 rounded-full h-2">
                                <div class="bg-primary-500 h-2 rounded-full" style="width: 94.2%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex items-center justify-between mb-1.5">
                                <span class="text-xs text-surface-600">Dữ liệu huấn luyện</span>
                                <span class="text-xs font-bold text-secondary-600">1,284</span>
                            </div>
                            <div class="w-full bg-surface-100 rounded-full h-2">
                                <div class="bg-secondary-500 h-2 rounded-full" style="width: 85%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex items-center justify-between mb-1.5">
                                <span class="text-xs text-surface-600">Tỷ lệ chấp nhận</span>
                                <span class="text-xs font-bold text-purple-600">87.5%</span>
                            </div>
                            <div class="w-full bg-surface-100 rounded-full h-2">
                                <div class="bg-purple-500 h-2 rounded-full" style="width: 87.5%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Prescriptions Table -->
        <div class="bg-white rounded-2xl border border-surface-200 overflow-hidden">
            <!-- Filters -->
            <div class="p-5 border-b border-surface-200">
                <div class="flex flex-col lg:flex-row lg:items-center gap-4">
                    <div class="flex-1">
                        <div class="relative">
                            <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                            </svg>
                            <input type="text" placeholder="Tìm theo mã đơn, tên bệnh nhân, hoặc thuốc..." 
                                class="w-full pl-10 pr-4 py-2.5 bg-surface-50 border border-surface-200 rounded-xl text-surface-900 placeholder-surface-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200">
                        </div>
                    </div>
                    <div class="flex flex-wrap gap-3">
                        <select class="px-4 py-2.5 bg-surface-50 border border-surface-200 rounded-xl text-surface-700 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 cursor-pointer transition-all duration-200">
                            <option>Tất cả trạng thái</option>
                            <option>Đã cấp phát</option>
                            <option>Chờ xử lý</option>
                            <option>Có cảnh báo</option>
                            <option>Đã hủy</option>
                        </select>
                        <select class="px-4 py-2.5 bg-surface-50 border border-surface-200 rounded-xl text-surface-700 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 cursor-pointer transition-all duration-200">
                            <option>Hôm nay</option>
                            <option>7 ngày qua</option>
                            <option>30 ngày qua</option>
                            <option>Tháng này</option>
                        </select>
                        <button class="px-4 py-2.5 bg-surface-50 border border-surface-200 rounded-xl text-surface-700 text-sm hover:bg-surface-100 transition-colors duration-200 cursor-pointer flex items-center gap-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"/>
                            </svg>
                            Lọc
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Table -->
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead class="bg-surface-50 border-b border-surface-200">
                        <tr>
                            <th class="text-left px-6 py-4 text-xs font-semibold text-surface-700 uppercase tracking-wider">Mã đơn</th>
                            <th class="text-left px-6 py-4 text-xs font-semibold text-surface-700 uppercase tracking-wider">Bệnh nhân</th>
                            <th class="text-left px-6 py-4 text-xs font-semibold text-surface-700 uppercase tracking-wider">Chẩn đoán</th>
                            <th class="text-left px-6 py-4 text-xs font-semibold text-surface-700 uppercase tracking-wider">Thuốc</th>
                            <th class="text-left px-6 py-4 text-xs font-semibold text-surface-700 uppercase tracking-wider">Ngày kê</th>
                            <th class="text-left px-6 py-4 text-xs font-semibold text-surface-700 uppercase tracking-wider">Trạng thái</th>
                            <th class="text-right px-6 py-4 text-xs font-semibold text-surface-700 uppercase tracking-wider">Thao tác</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-surface-100">
                        <!-- Prescription 1 - With Warning -->
                        <tr class="hover:bg-red-50/30 transition-colors duration-150 bg-red-50/50 border-l-4 border-l-red-500">
                            <td class="px-6 py-4">
                                <div class="flex items-center gap-2">
                                    <span class="font-semibold text-primary-600">RX-2026-0089</span>
                                    <div class="relative group">
                                        <svg class="w-5 h-5 text-red-600 cursor-pointer" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                                        </svg>
                                        <div class="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-64 p-3 bg-surface-900 text-white text-xs rounded-lg shadow-xl z-10">
                                            <p class="font-semibold mb-1">Cảnh báo tương tác thuốc!</p>
                                            <p>Warfarin và Aspirin có nguy cơ chảy máu cao khi dùng kết hợp.</p>
                                        </div>
                                    </div>
                                </div>
                            </td>
                            <td class="px-6 py-4">
                                <div class="flex items-center gap-3">
                                    <div class="w-9 h-9 bg-pink-100 rounded-full flex items-center justify-center flex-shrink-0">
                                        <span class="text-pink-600 font-semibold text-sm">LM</span>
                                    </div>
                                    <div>
                                        <p class="font-medium text-surface-900 text-sm">Lê Thị Mai</p>
                                        <p class="text-xs text-surface-500">Nữ, 58 tuổi · BN-2026-0141</p>
                                    </div>
                                </div>
                            </td>
                            <td class="px-6 py-4">
                                <span class="text-sm text-surface-700">Bệnh tim mạch</span>
                            </td>
                            <td class="px-6 py-4">
                                <span class="inline-flex items-center gap-1 px-2.5 py-1 bg-surface-100 text-surface-700 text-xs font-medium rounded-full">
                                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                                    </svg>
                                    6 loại thuốc
                                </span>
                            </td>
                            <td class="px-6 py-4 text-sm text-surface-600">21/01/2026, 09:15</td>
                            <td class="px-6 py-4">
                                <span class="inline-flex items-center gap-1.5 px-2.5 py-1 bg-red-100 text-red-700 text-xs font-medium rounded-full">
                                    <span class="w-1.5 h-1.5 bg-red-500 rounded-full animate-pulse"></span>
                                    Cảnh báo tương tác
                                </span>
                            </td>
                            <td class="px-6 py-4">
                                <div class="flex items-center justify-end gap-2">
                                    <button class="p-2 text-red-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 cursor-pointer" title="Kiểm tra tương tác" aria-label="Kiểm tra tương tác thuốc">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                                        </svg>
                                    </button>
                                    <button class="p-2 text-surface-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors duration-200 cursor-pointer" title="Xem chi tiết" aria-label="Xem chi tiết đơn thuốc">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                                        </svg>
                                    </button>
                                    <button class="p-2 text-surface-400 hover:text-surface-600 hover:bg-surface-100 rounded-lg transition-colors duration-200 cursor-pointer" title="Chỉnh sửa" aria-label="Chỉnh sửa đơn thuốc">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                                        </svg>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        
                        <!-- Prescription 2 - Normal -->
                        <tr class="hover:bg-surface-50 transition-colors duration-150">
                            <td class="px-6 py-4">
                                <span class="font-semibold text-primary-600">RX-2026-0088</span>
                            </td>
                            <td class="px-6 py-4">
                                <div class="flex items-center gap-3">
                                    <div class="w-9 h-9 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0">
                                        <span class="text-primary-600 font-semibold text-sm">TH</span>
                                    </div>
                                    <div>
                                        <p class="font-medium text-surface-900 text-sm">Trần Văn Hùng</p>
                                        <p class="text-xs text-surface-500">Nam, 45 tuổi · BN-2026-0142</p>
                                    </div>
                                </div>
                            </td>
                            <td class="px-6 py-4">
                                <span class="text-sm text-surface-700">Tăng huyết áp</span>
                            </td>
                            <td class="px-6 py-4">
                                <div class="flex items-center gap-2">
                                    <span class="inline-flex items-center gap-1 px-2.5 py-1 bg-surface-100 text-surface-700 text-xs font-medium rounded-full">
                                        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                                        </svg>
                                        4 loại thuốc
                                    </span>
                                    <div class="relative group">
                                        <svg class="w-4 h-4 text-primary-600 cursor-pointer" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                                        </svg>
                                        <div class="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-surface-900 text-white text-xs rounded-lg shadow-xl z-10">
                                            Có đề xuất từ AI
                                        </div>
                                    </div>
                                </div>
                            </td>
                            <td class="px-6 py-4 text-sm text-surface-600">21/01/2026, 08:30</td>
                            <td class="px-6 py-4">
                                <span class="inline-flex items-center gap-1.5 px-2.5 py-1 bg-secondary-100 text-secondary-700 text-xs font-medium rounded-full">
                                    <span class="w-1.5 h-1.5 bg-secondary-500 rounded-full"></span>
                                    Đã cấp phát
                                </span>
                            </td>
                            <td class="px-6 py-4">
                                <div class="flex items-center justify-end gap-2">
                                    <button class="p-2 text-surface-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors duration-200 cursor-pointer" title="Xem chi tiết" aria-label="Xem chi tiết đơn thuốc">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                                        </svg>
                                    </button>
                                    <button class="p-2 text-surface-400 hover:text-surface-600 hover:bg-surface-100 rounded-lg transition-colors duration-200 cursor-pointer" title="In đơn" aria-label="In đơn thuốc">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"/>
                                        </svg>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        
                        <!-- Prescription 3 - Pending -->
                        <tr class="hover:bg-surface-50 transition-colors duration-150">
                            <td class="px-6 py-4">
                                <span class="font-semibold text-primary-600">RX-2026-0087</span>
                            </td>
                            <td class="px-6 py-4">
                                <div class="flex items-center gap-3">
                                    <div class="w-9 h-9 bg-secondary-100 rounded-full flex items-center justify-center flex-shrink-0">
                                        <span class="text-secondary-600 font-semibold text-sm">PD</span>
                                    </div>
                                    <div>
                                        <p class="font-medium text-surface-900 text-sm">Phạm Văn Đức</p>
                                        <p class="text-xs text-surface-500">Nam, 52 tuổi · BN-2026-0140</p>
                                    </div>
                                </div>
                            </td>
                            <td class="px-6 py-4">
                                <span class="text-sm text-surface-700">Viêm khớp</span>
                            </td>
                            <td class="px-6 py-4">
                                <span class="inline-flex items-center gap-1 px-2.5 py-1 bg-surface-100 text-surface-700 text-xs font-medium rounded-full">
                                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                                    </svg>
                                    3 loại thuốc
                                </span>
                            </td>
                            <td class="px-6 py-4 text-sm text-surface-600">20/01/2026, 15:45</td>
                            <td class="px-6 py-4">
                                <span class="inline-flex items-center gap-1.5 px-2.5 py-1 bg-amber-100 text-amber-700 text-xs font-medium rounded-full">
                                    <span class="w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse"></span>
                                    Chờ xử lý
                                </span>
                            </td>
                            <td class="px-6 py-4">
                                <div class="flex items-center justify-end gap-2">
                                    <button class="p-2 text-surface-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors duration-200 cursor-pointer" title="Xem chi tiết" aria-label="Xem chi tiết đơn thuốc">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                                        </svg>
                                    </button>
                                    <button class="p-2 text-surface-400 hover:text-surface-600 hover:bg-surface-100 rounded-lg transition-colors duration-200 cursor-pointer" title="Chỉnh sửa" aria-label="Chỉnh sửa đơn thuốc">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                                        </svg>
                                    </button>
                                    <button class="p-2 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-lg transition-colors duration-200 cursor-pointer" title="Phê duyệt" aria-label="Phê duyệt đơn thuốc">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                        </svg>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        
                        <!-- Prescription 4 -->
                        <tr class="hover:bg-surface-50 transition-colors duration-150">
                            <td class="px-6 py-4">
                                <span class="font-semibold text-primary-600">RX-2026-0086</span>
                            </td>
                            <td class="px-6 py-4">
                                <div class="flex items-center gap-3">
                                    <div class="w-9 h-9 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0">
                                        <span class="text-amber-600 font-semibold text-sm">NH</span>
                                    </div>
                                    <div>
                                        <p class="font-medium text-surface-900 text-sm">Nguyễn Hoàng</p>
                                        <p class="text-xs text-surface-500">Nam, 38 tuổi · BN-2026-0139</p>
                                    </div>
                                </div>
                            </td>
                            <td class="px-6 py-4">
                                <span class="text-sm text-surface-700">Đái tháo đường T2</span>
                            </td>
                            <td class="px-6 py-4">
                                <span class="inline-flex items-center gap-1 px-2.5 py-1 bg-surface-100 text-surface-700 text-xs font-medium rounded-full">
                                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                                    </svg>
                                    2 loại thuốc
                                </span>
                            </td>
                            <td class="px-6 py-4 text-sm text-surface-600">20/01/2026, 10:20</td>
                            <td class="px-6 py-4">
                                <span class="inline-flex items-center gap-1.5 px-2.5 py-1 bg-secondary-100 text-secondary-700 text-xs font-medium rounded-full">
                                    <span class="w-1.5 h-1.5 bg-secondary-500 rounded-full"></span>
                                    Đã cấp phát
                                </span>
                            </td>
                            <td class="px-6 py-4">
                                <div class="flex items-center justify-end gap-2">
                                    <button class="p-2 text-surface-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors duration-200 cursor-pointer" title="Xem chi tiết" aria-label="Xem chi tiết đơn thuốc">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                                        </svg>
                                    </button>
                                    <button class="p-2 text-surface-400 hover:text-surface-600 hover:bg-surface-100 rounded-lg transition-colors duration-200 cursor-pointer" title="In đơn" aria-label="In đơn thuốc">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"/>
                                        </svg>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- Pagination -->
            <div class="flex flex-col sm:flex-row items-center justify-between gap-4 px-6 py-4 border-t border-surface-200 bg-surface-50">
                <p class="text-sm text-surface-600">Hiển thị <span class="font-semibold">1-4</span> của <span class="font-semibold">156</span> đơn thuốc</p>
                <div class="flex items-center gap-2">
                    <button class="p-2 text-surface-400 hover:text-surface-600 hover:bg-white rounded-lg transition-colors duration-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed" disabled aria-label="Trang trước">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <button class="min-w-[36px] h-9 bg-primary-500 text-white rounded-lg font-medium cursor-pointer">1</button>
                    <button class="min-w-[36px] h-9 text-surface-600 hover:bg-white rounded-lg font-medium transition-colors duration-200 cursor-pointer">2</button>
                    <button class="min-w-[36px] h-9 text-surface-600 hover:bg-white rounded-lg font-medium transition-colors duration-200 cursor-pointer">3</button>
                    <span class="text-surface-400 px-2">...</span>
                    <button class="min-w-[36px] h-9 text-surface-600 hover:bg-white rounded-lg font-medium transition-colors duration-200 cursor-pointer">16</button>
                    <button class="p-2 text-surface-600 hover:text-surface-900 hover:bg-white rounded-lg transition-colors duration-200 cursor-pointer" aria-label="Trang sau">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </main>
    
    <script>
        // Modal functions placeholder
        function openCreatePrescriptionModal() {
            alert('Modal tạo đơn thuốc mới sẽ được triển khai với:\n\n✓ Tìm kiếm bệnh nhân\n✓ Tìm kiếm thuốc với AI suggestions\n✓ Kiểm tra tương tác thuốc real-time\n✓ Đề xuất liều lượng dựa trên cân nặng/tuổi\n✓ Hiển thị lịch sử dùng thuốc\n✓ Đề xuất thuốc thay thế\n✓ Xác nhận bác sĩ trước khi lưu\n\nTất cả đề xuất AI cần được bác sĩ xác nhận!');
        }
        
        // Smooth scroll behavior
        document.documentElement.style.scrollBehavior = 'smooth';
    </script>
</body>
</html>
