<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <!--
    ABClinic - Header Fragment
    Contains the main header component
    
    @version 2.0.0 - Refactored
    @date February 1, 2026
    -->
  </head>
  <body>
    <!-- ==================================================================================
         HEADER FRAGMENT
         ================================================================================== -->
    <header
      th:fragment="header(title)"
      class="h-16 flex items-center justify-between px-6 bg-white dark:bg-[#1a2634] border-b border-slate-200 dark:border-slate-800 shrink-0 z-10"
    >
      <!-- Mobile Menu Toggle Button -->
      <button
        data-sidebar-toggle
        class="lg:hidden flex items-center justify-center size-10 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 transition-colors mr-2"
        aria-label="Mở menu"
        aria-expanded="false"
      >
        <span class="material-symbols-outlined text-[24px]">menu</span>
      </button>

      <!-- Desktop Sidebar Toggle Button -->
      <button
        data-sidebar-desktop-toggle
        class="hidden lg:flex items-center justify-center size-10 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 transition-colors mr-2"
        aria-label="Thu gọn menu"
        aria-expanded="true"
        title="Ctrl+B"
      >
        <span class="material-symbols-outlined text-[24px]">menu</span>
      </button>

      <!-- Search Bar -->
      <div class="flex-1 max-w-lg">
        <div class="relative group">
          <div
            class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
          >
            <span class="material-symbols-outlined text-slate-400 text-[20px]"
              >search</span
            >
          </div>
          <input
            class="block w-full pl-10 pr-3 py-2 border border-slate-200 dark:border-slate-700 rounded-lg leading-5 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:outline-none focus:bg-white dark:focus:bg-slate-800 focus:ring-1 focus:ring-primary focus:border-primary sm:text-sm transition-all"
            placeholder="Tìm nhanh (Ctrl+K)..."
            type="text"
          />
        </div>
      </div>

      <!-- Header Actions -->
      <div class="flex items-center gap-3 ml-4">
        <!-- Notifications -->
        <button
          class="flex items-center justify-center size-10 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors relative"
        >
          <span class="material-symbols-outlined text-[24px]"
            >notifications</span
          >
          <span
            class="absolute top-2.5 right-2.5 size-2 bg-red-500 rounded-full border-2 border-white dark:border-[#1a2634]"
          ></span>
        </button>
        <!-- Settings -->
        <button
          class="flex items-center justify-center size-10 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors"
        >
          <span class="material-symbols-outlined text-[24px]">settings</span>
        </button>
        <!-- Dark Mode Toggle -->
        <button
          onclick="document.documentElement.classList.toggle('dark'); localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');"
          class="flex items-center justify-center size-10 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors"
          title="Chuyển đổi chế độ tối"
        >
          <span class="material-symbols-outlined text-[24px] dark:hidden"
            >dark_mode</span
          >
          <span class="material-symbols-outlined text-[24px] hidden dark:block"
            >light_mode</span
          >
        </button>
      </div>
    </header>
  </body>
</html>
